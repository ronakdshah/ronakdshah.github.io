<!-- Accessibility Enhancements -->
<!-- Skip to main content link -->
<a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-purple-600 text-white px-4 py-2 rounded-lg z-50">
    Skip to main content
</a>

<!-- Focus indicator styles -->
<style>
    /* Custom focus indicators */
    .focus-visible:focus {
        outline: 2px solid #8b5cf6;
        outline-offset: 2px;
    }
    
    /* High contrast mode support */
    @media (prefers-contrast: high) {
        .gradient-bg {
            background: #000 !important;
        }
        
        .text-gray-600 {
            color: #000 !important;
        }
        
        .border-gray-200 {
            border-color: #000 !important;
        }
    }
    
    /* Screen reader only content */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }
    
    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }
</style>

<!-- Keyboard navigation enhancements -->
<script>
    // Enhanced keyboard navigation
    document.addEventListener('keydown', function(e) {
        // Escape key to close modals or expanded sections
        if (e.key === 'Escape') {
            const expandedSections = document.querySelectorAll('.experience-details.expanded');
            expandedSections.forEach(section => {
                const index = section.id.replace('experience-', '');
                toggleExperience(parseInt(index));
            });
        }
        
        // Tab key navigation improvements
        if (e.key === 'Tab') {
            document.body.classList.add('keyboard-navigation');
        }
    });
    
    // Remove keyboard navigation class on mouse use
    document.addEventListener('mousedown', function() {
        document.body.classList.remove('keyboard-navigation');
    });
    
    // Add ARIA labels and roles
    document.addEventListener('DOMContentLoaded', function() {
        // Add ARIA labels to interactive elements
        const skillTabs = document.querySelectorAll('.skill-tab');
        skillTabs.forEach((tab, index) => {
            tab.setAttribute('role', 'tab');
            tab.setAttribute('aria-selected', index === 0 ? 'true' : 'false');
            tab.setAttribute('aria-controls', `panel-${index + 1}`);
        });
        
        const skillContents = document.querySelectorAll('.skill-content');
        skillContents.forEach((content, index) => {
            content.setAttribute('role', 'tabpanel');
            content.setAttribute('aria-labelledby', `tab-${index + 1}`);
            content.setAttribute('id', `panel-${index + 1}`);
        });
        
        // Add ARIA labels to expandable sections
        const expandButtons = document.querySelectorAll('.expand-button');
        expandButtons.forEach((button, index) => {
            button.setAttribute('aria-expanded', 'false');
            button.setAttribute('aria-controls', `experience-${index}`);
            button.setAttribute('aria-label', `Toggle experience details for position ${index + 1}`);
        });
        
        // Add ARIA labels to contact links
        const contactLinks = document.querySelectorAll('.contact-link');
        contactLinks.forEach(link => {
            const text = link.textContent;
            if (text.includes('@')) {
                link.setAttribute('aria-label', `Send email to ${text}`);
            } else if (text.includes('linkedin.com')) {
                link.setAttribute('aria-label', 'Visit LinkedIn profile');
            } else if (text.includes('github.com')) {
                link.setAttribute('aria-label', 'Visit GitHub profile');
            }
        });
        
        // Add ARIA labels to theme toggle
        const themeToggle = document.getElementById('theme-toggle');
        if (themeToggle) {
            themeToggle.setAttribute('aria-label', 'Toggle dark mode');
            themeToggle.setAttribute('role', 'button');
        }
        
        // Add ARIA labels to floating action button
        const floatingAction = document.querySelector('.floating-action a');
        if (floatingAction) {
            floatingAction.setAttribute('aria-label', 'Contact me via email');
        }
    });
    
    // Live region for dynamic content
    const liveRegion = document.createElement('div');
    liveRegion.setAttribute('aria-live', 'polite');
    liveRegion.setAttribute('aria-atomic', 'true');
    liveRegion.className = 'sr-only';
    document.body.appendChild(liveRegion);
    
    // Announce theme changes
    window.addEventListener('themeChanged', function(e) {
        const theme = e.detail.theme;
        liveRegion.textContent = `Switched to ${theme} mode`;
    });
    
    // Announce skill tab changes
    function announceSkillTabChange(category) {
        liveRegion.textContent = `Switched to ${category} skills view`;
    }
</script> 