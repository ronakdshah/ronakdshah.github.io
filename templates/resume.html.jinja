<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>{{ personal.name }} - Portfolio</title>
    <link rel="stylesheet" href="static/main.css">
</head>
<body>
    <div class="header">
        <h1>{{ personal.name }}</h1>
    </div>
    <div class="container">

        <div class="section">
            <h2>Summary</h2>
            <p>{{ summary.text }}</p>
        </div>

        <div class="section">
            <h2>Experience</h2>
            {% for job in experiences %}
            <h3>{{ job.company }} - {{ job.role }} ({{ job.duration }})</h3>
            <ul>
                {% for bullet in job.responsibilities %}
                <li><strong>{{ bullet.title }}:</strong> {{ bullet.description }}</li>
                {% endfor %}
            </ul>
            {% endfor %}
        </div>

        <div class="section">
            <h2>Projects</h2>
            <h3>{{ project.name }}</h3>
            <ul>
                {% for item in project.details %}
                <li>{{ item }}</li>
                {% endfor %}
                {% if project.research_paper %}
                <li>Published research paper <em>{{ project.research_paper.title }}</em> <a href="{{ project.research_paper.link }}">Link</a>.</li>
                {% endif %}
            </ul>
        </div>

        <div class="section">
            <h2>Awards &amp; Achievements</h2>
            <ul>
                <li>Award of Honor for Outstanding Academic Excellence in AMS, Stony Brook University.</li>
                <li>Graduate Certificate in Quantitative Finance from AMS, Stony Brook University.</li>
                <li>Published research paper <em>A unified framework for fast large-scale portfolio optimization</em> <a
                        href="https://arxiv.org/abs/2303.12751">Link</a>.</li>
            </ul>
        </div>
       <div class="section">
            <h2>Education</h2>
            {% for items in education.degrees%}
            <p><strong>{{ items.degree }} {{ items.major }}, {{ items.school }}</strong> (GPA: {{ items.gpa }}) - {{ items.start_date }} - {{ items.end_date }}</p>
            {% endfor %}
        </div>
        <div class="section">
            <h2>Skills</h2>
            <ul>
                {% for category, skills in skillset.items() %}
                <li><strong>{{ category }}:</strong> {{ skills|join(", ") }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="contact">
        {{ personal.location }} • <a href="mailto:{{ personal.email }}">{{ personal.email }}</a> • {{ personal.phone }} •
        <a href="{{ personal.linkedin }}">LinkedIn</a>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const sections = document.querySelectorAll(".section");

            function checkVisibility() {
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    if (rect.top < (window.innerHeight || document.documentElement.clientHeight) * 0.95 && rect.bottom > (window.innerHeight || document.documentElement.clientHeight) * 0.15) {
                        section.classList.add("visible");
                    } else {
                        section.classList.remove("visible");
                    }
                });
            }

            window.addEventListener("scroll", checkVisibility);
            checkVisibility();
        });
    </script>
</body>
</html>
